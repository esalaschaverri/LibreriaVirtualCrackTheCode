<!DOCTYPE html>
<html lang="en">
<head>  
    <title>Mi Perfil</title>
    <link rel="stylesheet" type="text/css" href="CSS/perfil_cliente.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/31355f9613.js" crossorigin="anonymous"></script>
</head>

<body onload="cargarUsuario()">
    <!-- Logo y Menu -->
    <div class="contenedor">
        <div class="logo-menu" >
            <a href="index.html"><img class="logo" src="img/logo.png"/></a>
        </div>

        <div class="menu-top">
            <a href="sobreNosotros.html">SOBRE NOSOTROS</a>
            <a href="display_libros.html">LIBROS</a>
            <a href="socios_comerciales.html">SOCIOS COMERCIALES</a>
            <a href="cliente_frecuente.html">CLIENTE FRECUENTE</a>
            <a href="iniciar_sesion.html">INICIAR SESIÓN</a>
            <a href="preguntasFrecuentes.html">PREGUNTAS FRECUENTES</a>
            <a href="contacto.html">CONTACTO</a>
        </div>
    </div>

    <!-- Busqueda, Perfil y Carrito -->

    <div class="contenedor">

        <div class="buttonDiv">
            <input class="button-search" type="text" placeholder="BUSCAR LIBRO O AUTOR">
        </div>
        <div class="button">
            <a href="perfil_cliente.html"><i class="fa-solid fa-user button2"></i></a>
            <i class="fa-solid fa-cart-shopping button3"></i>
        </div>
    </div>

    <!-- Mi perfil -->

    <div class=" crear-cuenta" id="info-perfil">
        <div class="flex-completo text-morado">
            <h1>MI PERFIL</h1>
        </div>

        <div class="imagen-Perfil">
        <img src="img/admin.png" alt="">
        </div>

        <div>
            <h4 class="texto">DIANA CASTRO</h4>
            <h4 class="texto">diana.castro.v@hotmail.com</h4>
        </div>

        <div class="texto-negro">
            <h4>CÉDULA: 122225555</h4>
            <h4>DIRECCIÓN: Urbanización Itaipu, Casa 3G</h4>
            <h4>PROVINCIA: San José</h4>
            <h4>CANTÓN: Desamparados</h4>
            <h4>DISTRITO: San Juan de Dios</h4>
        </div>

        <div>
            <button class="buttons-Form">EDITAR PERFIL</button>
        </div>

        <div>
            <button class="buttons-Form">CAMBIAR CONTRASEÑA</button>
        </div>

        <div class="texto-negro">
            <h4>MÉTODO DE PAGO ACTUAL</h4>
            <h4>XXXX XXXX XXXX 3333</h4>
        </div>

        <div class="flex-completo">
            <button class="buttons-Form">CAMBIAR MÉTODO DE PAGO</button>
        </div>

    </div>


    <div class="crear-cuenta">
        <div class="text-morado">
            <h1>HISTORIAL DE COMPRAS</h1>
        </div>

    </div>


    <div class="crear-cuenta">
        <div class="text-morado">
            <h1>PUNTOS DE CLIENTE FRECUENTE</h1>
        </div>

    </div>

    <div class="footer">
        <div class="social">
            <a href="https://www.facebook.com/"><img class="logos-social" src="img/facebook.png"/></a>
            <a href="https://www.instagram.com/"><img class="logos-social" src="img/instagram.png"/></a>
            <a href="https://www.twitter.com/"><img class="logos-social" src="img/twitter.png"/></a> 
        </div>
        <h4>LIBRERIA@HOTMAIL.COM</h4>
        <h4>+506 7777-8888</h4>
        <p class="derechos">DERECHOS RESERVADOS</p>
    </div>
    <script>
        function cargarUsuario() {
            var variablesGet = window.location.search;
            var variables = new URLSearchParams(variablesGet);
            var id = variables.get("id");
            console.log(id);

            var datos = {
                idUsuario: id
            }

            fetch("http://localhost:5000/usuarios/buscar", {
                method: 'POST',
                body: JSON.stringify(datos),
                headers: { 'Content-Type': 'application/json' }
            })
                .then(
                    function (response) {
                        return response.json();
                    }
                )
                .then(
                    function (json) {
                        var linea = "<div class=\"flex-completo text-morado\">\n" +
                            "            <h1>MI PERFIL</h1>\n" +
                            "        </div>\n" +
                            "        <div class=\"imagen-Perfil\">\n" +
                            "        <img src=\"img/" +
                            json.fotoPerfil +
                            "\" alt=\"\">\n" +
                            "        </div>\n" +
                            "        <div>\n" +
                            "            <h4 class=\"texto\">" +
                            json.nombre + " "+ json.apellidos +
                            "</h4>\n" +
                            "            <h4 class=\"texto\">" +
                            json.correo +
                            "</h4>\n" +
                            "        </div>\n" +
                            "        <div class=\"texto-negro\">\n" +
                            "            <h4>CÉDULA: " +
                            json.numeroCedula +
                            "</h4>\n" +
                            "            <h4>DIRECCIÓN: " +
                            json.direccion +
                            "</h4>\n" +
                            "            <h4>PROVINCIA: " +
                            json.provincia +
                            "</h4>\n" +
                            "            <h4>CANTÓN: " +
                            json.canton +
                            "</h4>\n" +
                            "            <h4>DISTRITO: " +
                            json.distrito +
                            "</h4>\n" +
                            "        </div>\n" +
                            "        <div>\n" +
                            "            <button class=\"buttons-Form\">EDITAR PERFIL</button>\n" +
                            "        </div>\n" +
                            "        <div>\n" +
                            "            <button class=\"buttons-Form\">CAMBIAR CONTRASEÑA</button>\n" +
                            "        </div>\n" +
                            "        <div class=\"texto-negro\">\n" +
                            "            <h4>MÉTODO DE PAGO ACTUAL</h4>\n" +
                            "            <h4>XXXX XXXX XXXX 3333</h4>\n" +
                            "        </div>\n" +
                            "        <div class=\"flex-completo\">\n" +
                            "            <button class=\"buttons-Form\">CAMBIAR MÉTODO DE PAGO</button>\n" +
                            "        </div>";
                        document.getElementById("info-perfil").innerHTML = "";
                        document.getElementById("info-perfil").insertAdjacentHTML("beforeend", linea);
                    }
                )
        }
    </script>
</body>
</html>